<launch>
    <node pkg="can_node" type="can_converter.py" name="can_converter" output="screen">
        <param name="res_send_interval" value="0.1" />
        <param name="interface" value="can0" />
        <param name="baudrate" value="250000" />
        
        <param name="odrive_dbc" value="$(find can_node)/odrive.dbc" />

        <param name="imu0/frame" value="ugr/car_base_link/imu0" />
        <param name="imu1/frame" value="ugr/car_base_link/imu1" />

        <remap from="/output/can" to="/mechatronics/can_messages" />

        <!-- Encoder 0: right -->
        <!-- Encoder 1: left -->
        <remap from="/output/vel0" to="/ugr/car/sensors/encoder0" />
        <remap from="/output/vel1" to="/ugr/car/sensors/encoder1" />

        <!-- IMU0 : front -->
        <!-- IMU1 : back -->
        <remap from="/output/imu0/pitch_roll" to="/ugr/car/sensors/imu0/pitch_roll" />
        <remap from="/output/imu1/pitch_roll" to="/ugr/car/sensors/imu1/pitch_roll" />
        <remap from="/output/imu0/angular_rate" to="/ugr/car/sensors/imu0/angular_rate" />
        <remap from="/output/imu1/angular_rate" to="/ugr/car/sensors/imu1/angular_rate" />
        <remap from="/output/imu0/acc" to="/ugr/car/sensors/imu0/acc" />
        <remap from="/output/imu1/acc" to="/ugr/car/sensors/imu1/acc" />

        <remap from="/output/start" to="/control/start" />
        <remap from="/output/stop" to="/control/stop" />
        <remap from="/output/reset" to="/control/reset" />
    </node>
</launch>
