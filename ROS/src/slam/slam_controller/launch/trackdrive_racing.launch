<launch>
  
  <!-- ? FastSLAM -->
  <include file="$(find slam_mcl)/launch/mcl.launch" pass_all_args="true">
    <arg name="map_prefix" value="fastslam/global"/>
  </include>

  <arg name="world_frame" default="ugr/map" />
  <arg name="base_link_frame" default="ugr/car_base_link" />

  <node pkg="slam_loopclosure" output="screen" respawn="true" type="loopclosure" name="loopclosure">
      <param name="world_frame" value="$(arg world_frame)" />
      <param name="base_link_frame" value="$(arg base_link_frame)" />
      <rosparam param="finishpoint">[0,0,0]</rosparam>
      
      <remap from="/output/loopClosure" to="/ugr/car/loopclosure"/>
      <remap from="/reset_closure" to="/ugr/srv/reset_loopclosure"/>
      <remap from="/adjust_finish" to="/ugr/srv/adjust_finish"/>
  </node>

</launch>